<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>Snake Arena</title>
    <link href="https://fonts.googleapis.com/css2?family=Changa:wght@700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Changa', sans-serif; background: #000; color: #ffab00; margin: 0; display: flex; flex-direction: column; align-items: center; justify-content: center; height: 100vh; overflow: hidden; }
        #game-box { position: relative; border: 5px solid #ffab00; border-radius: 20px; box-shadow: 0 0 30px rgba(255,171,0,0.4); }
        canvas { background: #111; border-radius: 15px; display: block; }
        .controls { display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px; margin-top: 20px; }
        .btn-ctrl { width: 70px; height: 70px; background: rgba(255,171,0,0.1); border: 2px solid #ffab00; border-radius: 15px; color: #ffab00; font-size: 24px; font-weight: bold; }
        .score-board { font-size: 24px; margin-bottom: 10px; }
    </style>
</head>
<body>
    <div class="score-board">النقاط: <span id="score">0</span></div>
    <div id="game-box">
        <canvas id="snakeGame" width="300" height="300"></canvas>
    </div>
    <div class="controls">
        <div></div><button class="btn-ctrl" onclick="changeDir(0,-1)">↑</button><div></div>
        <button class="btn-ctrl" onclick="changeDir(-1,0)">←</button>
        <button class="btn-ctrl" onclick="changeDir(0,1)">↓</button>
        <button class="btn-ctrl" onclick="changeDir(1,0)">→</button>
    </div>
    <script>
        const canvas = document.getElementById('snakeGame');
        const ctx = canvas.getContext('2d');
        let snake = [{x: 150, y: 150}], food = {x: 50, y: 50}, dx = 10, dy = 0, score = 0;
        function draw() {
            ctx.fillStyle = "#111"; ctx.fillRect(0,0,300,300);
            // رسم الطعام (عسل) بلمعة
            ctx.fillStyle = "#ffab00"; ctx.shadowBlur = 15; ctx.shadowColor = "#ffab00";
            ctx.beginPath(); ctx.arc(food.x+5, food.y+5, 5, 0, Math.PI*2); ctx.fill();
            ctx.shadowBlur = 0;
            // تحريك ورسم الثعبان بتدرج
            const head = {x: snake[0].x + dx, y: snake[0].y + dy};
            snake.unshift(head);
            if(head.x === food.x && head.y === food.y) {
                score += 10; document.getElementById('score').innerText = score;
                food = {x: Math.floor(Math.random()*29)*10, y: Math.floor(Math.random()*29)*10};
            } else { snake.pop(); }
            ctx.fillStyle = "#4caf50";
            snake.forEach((s, i) => {
                ctx.globalAlpha = 1 - (i / snake.length * 0.5);
                ctx.fillRect(s.x, s.y, 9, 9);
            });
            if(head.x<0||head.x>290||head.y<0||head.y>290) location.reload();
        }
        function changeDir(x, y) { if(x !== -dx/10) { dx = x*10; dy = y*10; } }
        setInterval(draw, 100);
    </script>
</body>
</html>
